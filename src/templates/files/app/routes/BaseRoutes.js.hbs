const { Router } = require('express')
const querymen = require('querymen')

const {
  list{{capitalize entity_plural_name }},
  createBulk{{capitalize entity_name }},
  create{{capitalize entity_name }},
  update{{capitalize entity_name }},
  detail{{capitalize entity_name }},
  delete{{capitalize entity_name }}
} = require('../controllers/{{capitalize entity_name }}Controller')

const {{uppercase entity_name }} = Router()
const PRIVATE_RESOURCE = require('../middlewares/authorization')

{{uppercase entity_name }}.get('/', [
  PRIVATE_RESOURCE,
  querymen.middleware()
], list{{capitalize entity_plural_name }})

{{uppercase entity_name }}.post('/', [
  PRIVATE_RESOURCE
], create{{capitalize entity_name }})

{{uppercase entity_name }}.post('/_bulk', [
  PRIVATE_RESOURCE
], createBulk{{capitalize entity_plural_name }})

{{uppercase entity_name }}.post('/:{{lowercase entity_name }}Id', [
  PRIVATE_RESOURCE
], update{{capitalize entity_name }})

{{uppercase entity_name }}.get('/:{{lowercase entity_name }}Id', [
  PRIVATE_RESOURCE,
  querymen.middleware()
], detail{{capitalize entity_name }})

{{uppercase entity_name }}.delete('/:{{lowercase entity_name }}Id', [
  PRIVATE_RESOURCE,
  querymen.middleware()
], delete{{capitalize entity_name }})

module.exports = {{uppercase entity_name }}